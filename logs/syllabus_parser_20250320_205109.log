2025-03-20 20:51:09,921 [INFO] logging_setup.__init__:69 - Logging initialized to file: logs\syllabus_parser_20250320_205109.log
2025-03-20 20:51:09,926 [INFO] app.<module>:210 - Loaded configuration from config.yaml
2025-03-20 20:51:09,927 [DEBUG] app.create_required_directories:240 - Created directory: utils/parsing/syllabus_repository
2025-03-20 20:51:09,927 [DEBUG] app.create_required_directories:240 - Created directory: utils/parsing/syllabus_repository/original_syllabus
2025-03-20 20:51:09,927 [DEBUG] app.create_required_directories:240 - Created directory: utils/parsing/syllabus_repository/converted_syllabus
2025-03-20 20:51:09,927 [DEBUG] app.create_required_directories:240 - Created directory: utils/parsing/syllabus_repository/parsed_syllabus
2025-03-20 20:51:09,930 [DEBUG] app.create_required_directories:240 - Created directory: utils/parsing/syllabus_repository/main_data
2025-03-20 20:51:10,673 [INFO] app.<module>:259 - SyllabusParser initialized successfully
2025-03-20 20:51:10,673 [INFO] openai_parser.__init__:98 - OpenAI parser initialized with model: o1-mini
2025-03-20 20:51:10,681 [INFO] date_parser.__init__:68 - DateParser initialized
2025-03-20 20:51:10,683 [INFO] schedule_parser.__init__:40 - ScheduleParser initialized
2025-03-20 20:51:10,684 [INFO] assignment_parser.__init__:24 - AssignmentParser initialized
2025-03-20 20:51:10,685 [INFO] date_scraper._log:111 - Using default school CSV path: C:\SyllabusParser2\utils\School List\schools_with_urls.csv
2025-03-20 20:51:10,685 [ERROR] date_scraper._log:111 - School CSV file not found: C:\SyllabusParser2\utils\School List\schools_with_urls.csv
2025-03-20 20:51:10,685 [DEBUG] date_scraper._log:111 - Compiling regex patterns for school names
2025-03-20 20:51:10,685 [DEBUG] date_scraper._log:111 - Compiled regex patterns for 0 schools
2025-03-20 20:51:10,685 [INFO] date_scraper.__init__:95 - TermDateScraper initialized
2025-03-20 20:51:10,685 [INFO] syllabus_extractor.__init__:57 - SyllabusExtractor initialized with model: o1-mini
2025-03-20 20:51:10,689 [INFO] app.<module>:273 - SyllabusExtractor initialized successfully
2025-03-20 20:51:10,692 [INFO] app.<module>:1017 - Starting Flask application on 0.0.0.0:5000
2025-03-20 20:51:37,534 [INFO] app.index:291 - Rendering index page
2025-03-20 20:51:51,850 [INFO] app.upload_file:297 - Processing file upload request
2025-03-20 20:51:51,850 [INFO] app.upload_file:306 - Generated unique ID: 554e8fae-e106-42fd-a5e6-0b4b50af8bbc
2025-03-20 20:51:51,866 [INFO] app.upload_file:386 - Saved uploaded file to: uploads\554e8fae-e106-42fd-a5e6-0b4b50af8bbc_PHY203syllabusF24.pdf
2025-03-20 20:51:51,898 [INFO] app.upload_file:395 - Also saved file to repository: utils/parsing/syllabus_repository/original_syllabus\554e8fae-e106-42fd-a5e6-0b4b50af8bbc_PHY203syllabusF24.pdf
2025-03-20 20:51:52,261 [INFO] app.upload_file:405 - Saved converted text to: converted\554e8fae-e106-42fd-a5e6-0b4b50af8bbc.txt
2025-03-20 20:51:52,261 [INFO] app.upload_file:414 - Also saved converted text to repository: utils/parsing/syllabus_repository/converted_syllabus\554e8fae-e106-42fd-a5e6-0b4b50af8bbc.txt
2025-03-20 20:51:52,261 [INFO] app.upload_file:423 - Processing 12187 characters of text
2025-03-20 20:51:52,276 [INFO] app.upload_file:445 - Starting syllabus parsing with SyllabusParser
2025-03-20 20:51:55,313 [INFO] app.upload_file:456 - SyllabusParser succeeded, output: utils/parsing/syllabus_repository\parsed_syllabus\554e8fae-e106-42fd-a5e6-0b4b50af8bbc.json
2025-03-20 20:51:55,313 [INFO] app.upload_file:462 - Starting syllabus extraction with SyllabusExtractor
2025-03-20 20:51:55,325 [INFO] logging_setup.start_operation:110 - STARTED: extract_all with params: unique_id=554e8fae-e106-42fd-a5e6-0b4b50af8bbc
2025-03-20 20:51:55,325 [INFO] syllabus_extractor.extract_all:72 - Text length: 12187 characters
2025-03-20 20:51:55,325 [INFO] openai_parser.extract_days_of_week:134 - Attempting to extract days of week using regex patterns
2025-03-20 20:51:55,325 [INFO] openai_parser.extract_days_of_week:144 - Found day pattern: MWF -> Monday, Wednesday, Friday
2025-03-20 20:51:55,325 [INFO] openai_parser.extract:118 - Days of Week extracted via regex: Monday, Wednesday, Friday
2025-03-20 20:51:55,325 [INFO] logging_setup.start_operation:110 - STARTED: openai_parse with params: unique_id=554e8fae-e106-42fd-a5e6-0b4b50af8bbc
2025-03-20 20:51:55,325 [INFO] openai_parser.parse_syllabus:249 - Using pre-extracted context: {'Days of Week': 'Monday, Wednesday, Friday'}
2025-03-20 20:51:55,325 [INFO] openai_parser.parse_syllabus:265 - Extracting class metadata
2025-03-20 20:52:12,074 [INFO] openai_parser.parse_syllabus:270 - Extracting assignments and schedule
2025-03-20 20:52:35,837 [INFO] logging_setup.end_operation:127 - ENDED: openai_parse success
2025-03-20 20:52:35,837 [INFO] date_parser.process_days_of_week:322 - Processing days of week: 'Monday, Wednesday, Saturday, Friday, Thursday'
2025-03-20 20:52:35,837 [DEBUG] date_parser.process_days_of_week:326 - Days already in comma-separated format: 'Monday, Wednesday, Saturday, Friday, Thursday'
2025-03-20 20:52:35,837 [INFO] syllabus_extractor._verify_term_dates:176 - Verifying term dates with TermDateScraper
2025-03-20 20:52:35,837 [INFO] syllabus_extractor._verify_term_dates:191 - Looking up dates for University of Rhode Island, Fall 2024
2025-03-20 20:52:35,837 [INFO] date_scraper._log:111 - Looking up term dates for University of Rhode Island, Fall 2024
2025-03-20 20:52:35,853 [INFO] date_scraper._log:111 - Using cached dates for University of Rhode Island, Fall 2024
2025-03-20 20:52:35,853 [WARNING] syllabus_extractor._verify_term_dates:212 - No verified term dates found
2025-03-20 20:52:35,853 [INFO] date_parser.process_dates:220 - Processing dates in extracted data
2025-03-20 20:52:35,853 [INFO] date_parser.process_days_of_week:322 - Processing days of week: 'Monday, Wednesday, Saturday, Friday, Thursday'
2025-03-20 20:52:35,853 [DEBUG] date_parser.process_days_of_week:326 - Days already in comma-separated format: 'Monday, Wednesday, Saturday, Friday, Thursday'
2025-03-20 20:52:35,853 [INFO] date_parser.infer_missing_dates:406 - Inferring Term End Date from Class End Date
2025-03-20 20:52:35,853 [INFO] schedule_parser.process_schedule:52 - Processing class schedule
2025-03-20 20:52:35,853 [INFO] assignment_parser.process_assignments:36 - Processing assignments
2025-03-20 20:52:35,853 [INFO] assignment_parser._validate_assignment_sequence:98 - Validating assignment sequence
2025-03-20 20:52:35,853 [INFO] assignment_parser._validate_assignment_sequence:123 - Found 12 homework assignments
2025-03-20 20:52:35,853 [WARNING] assignment_parser._validate_assignment_sequence:139 - Found 11 duplicate homework numbers
2025-03-20 20:52:35,853 [INFO] assignment_parser._link_assignments_to_events:209 - Linking assignments to class sessions
2025-03-20 20:52:35,853 [INFO] syllabus_extractor.extract_all:136 - Extraction complete. Results contain 0 events and 16 tasks
2025-03-20 20:52:35,853 [INFO] syllabus_extractor.extract_all:137 - Missing fields: Term Start Date
2025-03-20 20:52:35,869 [INFO] logging_setup.end_operation:127 - ENDED: extract_all completed
2025-03-20 20:52:35,869 [INFO] app.upload_file:479 - SyllabusExtractor processed data successfully
2025-03-20 20:52:35,869 [INFO] app.upload_file:496 - Saved results to: output\554e8fae-e106-42fd-a5e6-0b4b50af8bbc_results.json
2025-03-20 20:52:35,869 [INFO] app.upload_file:505 - Also saved results to repository: utils/parsing/syllabus_repository/main_data\554e8fae-e106-42fd-a5e6-0b4b50af8bbc_results.json
2025-03-20 20:52:35,869 [INFO] app.upload_file:510 - Missing fields detected: ['Term Start Date']
2025-03-20 20:52:35,885 [INFO] app.missing_fields:533 - Showing missing fields form for ID: 554e8fae-e106-42fd-a5e6-0b4b50af8bbc
2025-03-20 20:52:48,726 [INFO] app.complete_data:569 - Processing user-provided data for ID: 554e8fae-e106-42fd-a5e6-0b4b50af8bbc
2025-03-20 20:52:48,734 [INFO] app.complete_data:598 - User provided data: {'Term Start Date': '2024-09-04'}
2025-03-20 20:52:48,736 [INFO] syllabus_extractor.update_class_data:314 - Updating extracted data with user input
2025-03-20 20:52:48,736 [INFO] syllabus_extractor.update_class_data:322 - Updated Term Start Date: 2024-09-04
2025-03-20 20:52:48,739 [INFO] date_parser.process_dates:220 - Processing dates in extracted data
2025-03-20 20:52:48,739 [INFO] date_parser.process_days_of_week:322 - Processing days of week: 'Monday, Wednesday, Saturday, Friday, Thursday'
2025-03-20 20:52:48,739 [DEBUG] date_parser.process_days_of_week:326 - Days already in comma-separated format: 'Monday, Wednesday, Saturday, Friday, Thursday'
2025-03-20 20:52:48,739 [INFO] schedule_parser.recalculate_class_schedule:215 - Recalculating class schedule
2025-03-20 20:52:48,739 [INFO] schedule_parser._parse_weekdays:363 - Parsed days of week 'Monday, Wednesday, Saturday, Friday, Thursday' to indices [0, 2, 5, 4, 3]
2025-03-20 20:52:48,750 [INFO] schedule_parser._generate_complete_class_schedule:129 - Generating complete class schedule from September 04, 2024 to December 12, 2024
2025-03-20 20:52:48,750 [INFO] schedule_parser._generate_complete_class_schedule:130 - Weekday indices: [0, 2, 3, 4, 5]
2025-03-20 20:52:48,752 [INFO] schedule_parser._generate_complete_class_schedule:157 - Generated 72 class sessions between 2024-09-04 and 2024-12-12
2025-03-20 20:52:48,752 [INFO] schedule_parser.recalculate_class_schedule:305 - Generated 72 class sessions
2025-03-20 20:52:48,752 [INFO] assignment_parser.process_assignments:36 - Processing assignments
2025-03-20 20:52:48,752 [INFO] assignment_parser._validate_assignment_sequence:98 - Validating assignment sequence
2025-03-20 20:52:48,752 [INFO] assignment_parser._validate_assignment_sequence:123 - Found 12 homework assignments
2025-03-20 20:52:48,752 [WARNING] assignment_parser._validate_assignment_sequence:139 - Found 11 duplicate homework numbers
2025-03-20 20:52:48,752 [INFO] assignment_parser._link_assignments_to_events:209 - Linking assignments to class sessions
2025-03-20 20:52:48,768 [INFO] app.complete_data:606 - Saved updated results with user input
2025-03-20 20:52:48,768 [INFO] app.complete_data:615 - Also saved updated results to repository: utils/parsing/syllabus_repository/main_data\554e8fae-e106-42fd-a5e6-0b4b50af8bbc_results.json
2025-03-20 20:52:48,792 [INFO] app.show_results:628 - Showing results for ID: 554e8fae-e106-42fd-a5e6-0b4b50af8bbc
2025-03-20 20:52:48,817 [INFO] app.show_results:656 - Rendering results with 72 events and 16 tasks
